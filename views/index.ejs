<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Artists</title>
  <link rel="stylesheet" href="./styles.css">
</head>
<body>
<nav>
  <ul class="navbar">
    <li><a href="/">Artists</a></li>
    <li><a href="/labels">Labels</a></li>
  </ul>
</nav>
<form action="/" method="GET" class="search-form">
  <input type="text" name="search" placeholder="Search artist by name..." value="<%= typeof search !== 'undefined' ? search : '' %>">
  <button type="submit">Search</button>
</form>

  <h1>Artists</h1>
  
  <table id="artist-table">
    <thead>
  <tr>
    <th>Image</th>
    <th>
      <a href="/?sortBy=name&order=<%= sortBy === 'name' && order === 'asc' ? 'desc' : 'asc' %><%= search ? '&search=' + search : '' %>">
        Name <%= sortBy === 'name' ? (order === 'asc' ? '▲' : '▼') : '' %>
      </a>
    </th>
    <th>
      <a href="/?sortBy=genre&order=<%= sortBy === 'genre' && order === 'asc' ? 'desc' : 'asc' %><%= search ? '&search=' + search : '' %>">
        Genre <%= sortBy === 'genre' ? (order === 'asc' ? '▲' : '▼') : '' %>
      </a>
    </th>
    <th>
      <a href="/?sortBy=age&order=<%= sortBy === 'age' && order === 'asc' ? 'desc' : 'asc' %><%= search ? '&search=' + search : '' %>">
        Age <%= sortBy === 'age' ? (order === 'asc' ? '▲' : '▼') : '' %>
      </a>
    </th>
    <th>Details</th>
  </tr>
</thead>

    <tbody>
      <% artists.forEach(artist => { %>
        <tr>
          <td><img src="<%= artist.imageUrl %>" alt="<%= artist.name %>"></td>
          <td><%= artist.name %></td>
          <td><%= artist.genre %></td>
          <td><%= artist.age %></td>
          <td><a href="/artist/<%= artist.id %>">More Info</a></td>
        </tr>
      <% }) %>
    </tbody>
  </table>
</body>
</html>



